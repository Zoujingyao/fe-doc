---
group:
  title: 热题100
  path: /algorithm/hot100
---

# [621. 任务调度器](https://leetcode.cn/problems/task-scheduler/?favorite=2cktkvj)

## 思路

我的思路是构造每个任务的次数数组，比如：`taskNumArr = [3, 3, 3, 2, 1]`，表明一共有`taskNumArr.length = 5`中任务， `taskNumArr[i]`表示第`i`种任务有`taskNumArr[i]`个。

那么每个单位时间 n+1 内，尽可能执行 n+1 种任务，如果没有 n+1 种就空闲，但也要消耗 n+1 单位时间；

【贪心】为了尽可能的把不同的任务同时执行，每次都应该先消耗任务数最多的任务，所以每`n+1`单位时间都先对`taskNumArr`降序排序，然后将最多前 n+1 种任务的次数减 1；

当`n = 2`时，初始：`3 3 3 2 1`

- 第一个单位时间（n+1 = 3，1 - 3)：任务数超出`n+1 = 3`，将剩余数最大的`3`个任务分别执行一个，变成：`2 2 2 2 1`；
- 第二个单位时间（4 - 6）: 任务数还是大于 3，继续执行剩余次数最多的三个任务：`1 1 1 2 1`;
- 第三个单位时间（6 - 9）：为了尽可能将不同任务在单位时间内执行，降序排后同上操作：`2 1 1 1 1` -> `1 1 1`
- 第四个单位时间（9 - 12）：刚好剩余三个任务，每个任务剩一个，执行完成（如果最后任务数小于 3，就不用用满单位时间，记得处理）；

## 代码

<code src='./index.tsx'></code>
